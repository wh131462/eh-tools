/**
 * 样式混入
 */
@use './variables.scss' as *;

// Flex 布局
@mixin flex($direction: row, $justify: flex-start, $align: stretch) {
  display: flex;
  flex-direction: $direction;
  justify-content: $justify;
  align-items: $align;
}

@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

@mixin flex-between {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

@mixin flex-column {
  display: flex;
  flex-direction: column;
}

// 文本省略
@mixin ellipsis($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: $lines;
    overflow: hidden;
  }
}

// 安全区域
@mixin safe-area-bottom {
  padding-bottom: constant(safe-area-inset-bottom);
  padding-bottom: env(safe-area-inset-bottom);
}

@mixin safe-area-top {
  padding-top: constant(safe-area-inset-top);
  padding-top: env(safe-area-inset-top);
}

// 卡片样式
@mixin card {
  background-color: $bg-card;
  border-radius: $radius-md;
  box-shadow: $shadow-sm;
}

// 按钮基础样式
@mixin btn-base {
  display: inline-flex;
  justify-content: center;
  align-items: center;
  border: none;
  outline: none;
  cursor: pointer;
  transition: all $transition-fast;

  &::after {
    border: none;
  }
}

// 主按钮
@mixin btn-primary {
  @include btn-base;
  background-color: $primary;
  color: #FFFFFF;

  &:active {
    background-color: $primary-dark;
  }
}

// 清除按钮默认样式
@mixin btn-reset {
  padding: 0;
  margin: 0;
  background: transparent;
  border: none;
  outline: none;

  &::after {
    border: none;
  }
}

// 输入框基础样式
@mixin input-base {
  width: 100%;
  height: 80rpx;
  padding: 0 $spacing-md;
  font-size: $font-size-md;
  background-color: $bg-page;
  border-radius: $radius-sm;
  box-sizing: border-box;
}

// 分割线
@mixin divider {
  height: 1rpx;
  background-color: $border-light;
}

// 网格布局
@mixin grid($columns: 4, $gap: $spacing-md) {
  display: grid;
  grid-template-columns: repeat($columns, 1fr);
  gap: $gap;
}
